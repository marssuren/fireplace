# æµ·ä¸­å‘å¯¼èŠ¬åˆ©çˆµå£«ï¼ˆTSC_908ï¼‰å®Œæ•´å®ç°æŠ¥å‘Š

## æ¦‚è¿°

æœ¬æ¬¡å®ç°ä¿®å¤äº†"æµ·ä¸­å‘å¯¼èŠ¬åˆ©çˆµå£«"ï¼ˆSir Finley, Sea Guideï¼‰çš„æ‰‹ç‰Œä¸ç‰Œåº“åº•äº¤æ¢æœºåˆ¶ï¼Œè§£å†³äº†åŸå®ç°çš„å¤šä¸ªä¸¥é‡é—®é¢˜ã€‚

---

## åŸå®ç°çš„é—®é¢˜

### âŒ é—®é¢˜ 1ï¼šç¼ºå°‘åŸºç¡€å±æ€§æ ‡ç­¾

```python
# åŸå®ç°ç¼ºå°‘ tags
class TSC_908:
    """æµ·ä¸­å‘å¯¼èŠ¬åˆ©çˆµå£« - 1è´¹ 1/3
    æˆ˜å¼ï¼šå°†ä½ çš„æ‰‹ç‰Œå’Œç‰Œåº“åº•çš„ç‰Œäº¤æ¢"""
    # æ²¡æœ‰ ATK, HEALTH, COST æ ‡ç­¾
```

**å½±å“**ï¼šå¡ç‰Œæ— æ³•æ­£å¸¸åˆ›å»ºå’Œæ˜¾ç¤º

---

### âŒ é—®é¢˜ 2ï¼šé€»è¾‘é”™è¯¯ - "ç§»åŠ¨+æŠ½ç‰Œ" è€Œé "äº¤æ¢"

```python
# åŸå®ç°ï¼ˆé”™è¯¯ï¼‰
play = (
    lambda self, target: [
        ShuffleIntoDeck(self.controller, card, position='bottom')
        for card in list(self.controller.hand)
    ] + [Draw(self.controller) for _ in range(len(self.controller.hand))]
)
```

**é—®é¢˜åˆ†æ**ï¼š

1. **ä¸æ˜¯çœŸæ­£çš„äº¤æ¢**ï¼š

    - å°†æ‰‹ç‰Œæ´—å…¥ç‰Œåº“åº•
    - ç„¶åä»ç‰Œåº“é¡¶æŠ½ç‰Œï¼ˆ`Draw` ä»é¡¶éƒ¨æŠ½ï¼‰
    - è¿™ä¸æ˜¯äº¤æ¢ï¼Œè€Œæ˜¯"ç§»åŠ¨æ‰‹ç‰Œåˆ°åº•éƒ¨ï¼Œç„¶åæŠ½æ–°ç‰Œ"

2. **æŠ½ç‰Œä½ç½®é”™è¯¯**ï¼š

    - `Draw()` ä»ç‰Œåº“**é¡¶éƒ¨**æŠ½ç‰Œï¼ˆ`deck[-1]`ï¼‰
    - ä½†åº”è¯¥ä»ç‰Œåº“**åº•éƒ¨**å–ç‰Œï¼ˆ`deck[0]`ï¼‰

3. **æ‰‹ç‰Œæ•°é‡å¯èƒ½å˜åŒ–**ï¼š
    - å¦‚æœç‰Œåº“åº•éƒ¨çš„ç‰Œæ•°é‡ < æ‰‹ç‰Œæ•°é‡ï¼Œä¼šå¯¼è‡´æ‰‹ç‰Œå‡å°‘
    - å¦‚æœç‰Œåº“åº•éƒ¨çš„ç‰Œæ•°é‡ > æ‰‹ç‰Œæ•°é‡ï¼Œä¼šå¯¼è‡´æ‰‹ç‰Œå¢åŠ ï¼ˆä½†è¿™ä¸å¯èƒ½ï¼Œå› ä¸ºå·²ç»æ´—å…¥äº†ï¼‰

---

### âŒ é—®é¢˜ 3ï¼šLambda è¡¨è¾¾å¼çš„åŠ¨æ€å˜åŒ–é—®é¢˜

```python
lambda self, target: [
    ShuffleIntoDeck(self.controller, card, position='bottom')
    for card in list(self.controller.hand)  # è¿™é‡Œä¼šåŠ¨æ€å˜åŒ–
]
```

**é—®é¢˜**ï¼š

-   åœ¨æ‰§è¡Œ `ShuffleIntoDeck` æ—¶ï¼Œ`self.controller.hand` ä¼šåŠ¨æ€å˜åŒ–
-   å¯èƒ½å¯¼è‡´éå†è¿‡ç¨‹ä¸­è·³è¿‡æŸäº›å¡ç‰Œæˆ–é‡å¤å¤„ç†

---

## æ–°å®ç°çš„è§£å†³æ–¹æ¡ˆ

### âœ… å®Œæ•´å®ç°

```python
class TSC_908:
    """æµ·ä¸­å‘å¯¼èŠ¬åˆ©çˆµå£« - 1è´¹ 1/3
    æˆ˜å¼ï¼šå°†ä½ çš„æ‰‹ç‰Œå’Œç‰Œåº“åº•çš„ç‰Œäº¤æ¢"""
    tags = {
        GameTag.ATK: 1,
        GameTag.HEALTH: 3,
        GameTag.COST: 1,
    }

    def play(self):
        """
        äº¤æ¢æ‰‹ç‰Œå’Œç‰Œåº“åº•éƒ¨çš„ç‰Œ

        å®ç°é€»è¾‘ï¼š
        1. ä¿å­˜å½“å‰æ‰‹ç‰Œï¼ˆæ’é™¤èŠ¬åˆ©è‡ªå·±ï¼‰
        2. ä»ç‰Œåº“åº•éƒ¨å–å‡ºç›¸åŒæ•°é‡çš„ç‰Œ
        3. å°†æ‰‹ç‰Œç§»åˆ°ç‰Œåº“åº•éƒ¨
        4. å°†å–å‡ºçš„ç‰Œç§»åˆ°æ‰‹ç‰Œ

        æ³¨æ„ï¼šfireplace ä¸­ deck[0] æ˜¯åº•éƒ¨ï¼Œdeck[-1] æ˜¯é¡¶éƒ¨
        """
        controller = self.controller

        # ä¿å­˜å½“å‰æ‰‹ç‰Œï¼ˆæ’é™¤èŠ¬åˆ©è‡ªå·±ï¼Œå› ä¸ºä»–åˆšè¢«æ‰“å‡ºï¼‰
        hand_cards = [card for card in list(controller.hand) if card != self]
        hand_count = len(hand_cards)

        # å¦‚æœæ‰‹ç‰Œä¸ºç©ºï¼Œä¸éœ€è¦äº¤æ¢
        if hand_count == 0:
            return

        # ä»ç‰Œåº“åº•éƒ¨å–å‡ºä¸æ‰‹ç‰Œæ•°é‡ç›¸åŒçš„ç‰Œ
        deck_bottom_cards = []
        for i in range(min(hand_count, len(controller.deck))):
            if controller.deck:
                # deck[0] æ˜¯ç‰Œåº“åº•éƒ¨
                card = controller.deck[0]
                # æš‚æ—¶ç§»åˆ° SETASIDE åŒºåŸŸ
                card.zone = Zone.SETASIDE
                deck_bottom_cards.append(card)

        # å°†æ‰‹ç‰Œç§»åˆ°ç‰Œåº“åº•éƒ¨
        for card in hand_cards:
            # ä½¿ç”¨ ShuffleIntoDeck action å°†å¡ç‰Œæ”¾åˆ°ç‰Œåº“åº•éƒ¨
            yield ShuffleIntoDeck(controller, card, position='bottom')

        # å°†ä¹‹å‰ä»ç‰Œåº“åº•éƒ¨å–å‡ºçš„ç‰Œç§»åˆ°æ‰‹ç‰Œ
        for card in deck_bottom_cards:
            if len(controller.hand) < controller.max_hand_size:
                yield Give(controller, card)
            else:
                # å¦‚æœæ‰‹ç‰Œå·²æ»¡ï¼Œçƒ§æ‰è¿™å¼ ç‰Œ
                card.discard()
```

---

## å®ç°äº®ç‚¹

### 1. æ­£ç¡®çš„äº¤æ¢é€»è¾‘

```
åˆå§‹çŠ¶æ€ï¼š
æ‰‹ç‰Œ: [A, B, C]
ç‰Œåº“åº•éƒ¨: [X, Y, Z, ...]

æ‰§è¡Œæ­¥éª¤ï¼š
1. ä¿å­˜æ‰‹ç‰Œå¿«ç…§: hand_cards = [A, B, C]
2. ä»ç‰Œåº“åº•éƒ¨å–å‡º 3 å¼ ç‰Œ: deck_bottom_cards = [X, Y, Z]
   ï¼ˆæš‚å­˜åˆ° SETASIDE åŒºåŸŸï¼‰
3. å°†æ‰‹ç‰Œç§»åˆ°ç‰Œåº“åº•éƒ¨: [A, B, C, ...]
4. å°†æš‚å­˜çš„ç‰Œç»™åˆ°æ‰‹ç‰Œ: [X, Y, Z]

æœ€ç»ˆçŠ¶æ€ï¼š
æ‰‹ç‰Œ: [X, Y, Z]
ç‰Œåº“åº•éƒ¨: [A, B, C, ...]
```

### 2. ä½¿ç”¨ SETASIDE åŒºåŸŸæš‚å­˜

```python
# æš‚æ—¶ç§»åˆ° SETASIDE åŒºåŸŸ
card.zone = Zone.SETASIDE
deck_bottom_cards.append(card)
```

**ä¼˜åŠ¿**ï¼š

-   é¿å…ç›´æ¥æ“ä½œ zone å¯èƒ½å¯¼è‡´çš„é—®é¢˜
-   SETASIDE æ˜¯ä¸“é—¨ç”¨äºä¸´æ—¶å­˜å‚¨çš„åŒºåŸŸ
-   ä¸ä¼šè§¦å‘ä»»ä½•äº‹ä»¶æˆ–æ•ˆæœ

### 3. ä½¿ç”¨ Generator å‡½æ•°

```python
def play(self):
    # ...
    yield ShuffleIntoDeck(controller, card, position='bottom')
    # ...
    yield Give(controller, card)
```

**ä¼˜åŠ¿**ï¼š

-   ä½¿ç”¨ `yield` è¿”å› actionï¼Œç”±æ¸¸æˆå¼•æ“æŒ‰é¡ºåºæ‰§è¡Œ
-   é¿å… lambda è¡¨è¾¾å¼çš„åŠ¨æ€å˜åŒ–é—®é¢˜
-   ä»£ç æ›´æ¸…æ™°ï¼Œæ˜“äºè°ƒè¯•

### 4. è¾¹ç•Œæƒ…å†µå¤„ç†

```python
# 1. æ‰‹ç‰Œä¸ºç©º
if hand_count == 0:
    return

# 2. ç‰Œåº“åº•éƒ¨ç‰Œæ•°ä¸è¶³
for i in range(min(hand_count, len(controller.deck))):
    # ...

# 3. æ‰‹ç‰Œå·²æ»¡
if len(controller.hand) < controller.max_hand_size:
    yield Give(controller, card)
else:
    card.discard()  # çƒ§æ‰
```

---

## Fireplace ç‰Œåº“ç»“æ„è¯´æ˜

åœ¨ fireplace ä¸­ï¼Œç‰Œåº“çš„ç»“æ„å¦‚ä¸‹ï¼š

```python
deck = [åº•éƒ¨, ..., ..., é¡¶éƒ¨]
       [0]              [-1]

# ç¤ºä¾‹
deck = [å¡1, å¡2, å¡3, å¡4, å¡5]
        åº•éƒ¨              é¡¶éƒ¨

# æ“ä½œ
deck[0]     # ç‰Œåº“åº•éƒ¨çš„å¡ï¼ˆå¡1ï¼‰
deck[-1]    # ç‰Œåº“é¡¶éƒ¨çš„å¡ï¼ˆå¡5ï¼Œä¸‹ä¸€å¼ è¦æŠ½çš„ï¼‰
deck.append(card)        # æ”¾åˆ°ç‰Œåº“åº•éƒ¨
deck.insert(0, card)     # æ”¾åˆ°ç‰Œåº“é¡¶éƒ¨
```

**å…³é”®ç‚¹**ï¼š

-   `Draw()` ä» `deck[-1]` æŠ½ç‰Œï¼ˆé¡¶éƒ¨ï¼‰
-   `ShuffleIntoDeck(..., position='bottom')` ä½¿ç”¨ `deck.append()`ï¼ˆåº•éƒ¨ï¼‰
-   `ShuffleIntoDeck(..., position='top')` ä½¿ç”¨ `deck.insert(0, ...)`ï¼ˆé¡¶éƒ¨ï¼‰

---

## å¯¹æ¯”æ€»ç»“

| é¡¹ç›®         | åŸå®ç°               | æ–°å®ç°                                |
| ------------ | -------------------- | ------------------------------------- |
| **åŸºç¡€æ ‡ç­¾** | âŒ ç¼ºå¤±              | âœ… å®Œæ•´ï¼ˆATK/HEALTH/COSTï¼‰            |
| **äº¤æ¢é€»è¾‘** | âŒ é”™è¯¯ï¼ˆç§»åŠ¨+æŠ½ç‰Œï¼‰ | âœ… æ­£ç¡®ï¼ˆçœŸæ­£çš„äº¤æ¢ï¼‰                 |
| **æŠ½ç‰Œä½ç½®** | âŒ ä»é¡¶éƒ¨æŠ½          | âœ… ä»åº•éƒ¨å–                           |
| **å®ç°æ–¹å¼** | âŒ Lambda è¡¨è¾¾å¼     | âœ… Generator å‡½æ•°                     |
| **è¾¹ç•Œå¤„ç†** | âŒ æ—                 | âœ… å®Œæ•´ï¼ˆç©ºæ‰‹ç‰Œã€ç‰Œåº“ä¸è¶³ã€æ‰‹ç‰Œå·²æ»¡ï¼‰ |
| **ä»£ç è´¨é‡** | âš ï¸ ç®€åŒ–ä½†é”™è¯¯        | âœ… æ¸…æ™°ä¸”æ­£ç¡®                         |

---

## æµ‹è¯•åœºæ™¯

### åœºæ™¯ 1ï¼šæ­£å¸¸äº¤æ¢

```
åˆå§‹ï¼š
- æ‰‹ç‰Œ: 3å¼ 
- ç‰Œåº“åº•éƒ¨: 5å¼ 

ç»“æœï¼š
- æ‰‹ç‰Œ: åŸç‰Œåº“åº•éƒ¨çš„3å¼ 
- ç‰Œåº“åº•éƒ¨: åŸæ‰‹ç‰Œçš„3å¼ 
```

### åœºæ™¯ 2ï¼šç‰Œåº“åº•éƒ¨ç‰Œæ•°ä¸è¶³

```
åˆå§‹ï¼š
- æ‰‹ç‰Œ: 5å¼ 
- ç‰Œåº“åº•éƒ¨: 2å¼ 

ç»“æœï¼š
- æ‰‹ç‰Œ: 2å¼ ï¼ˆåŸç‰Œåº“åº•éƒ¨çš„2å¼ ï¼‰
- ç‰Œåº“åº•éƒ¨: 5å¼ ï¼ˆåŸæ‰‹ç‰Œçš„5å¼ ï¼‰
```

### åœºæ™¯ 3ï¼šæ‰‹ç‰Œä¸ºç©º

```
åˆå§‹ï¼š
- æ‰‹ç‰Œ: 0å¼ ï¼ˆåªæœ‰èŠ¬åˆ©è‡ªå·±ï¼‰
- ç‰Œåº“åº•éƒ¨: 5å¼ 

ç»“æœï¼š
- ä¸æ‰§è¡Œä»»ä½•æ“ä½œ
```

### åœºæ™¯ 4ï¼šæ‰‹ç‰Œå·²æ»¡

```
åˆå§‹ï¼š
- æ‰‹ç‰Œ: 10å¼ ï¼ˆæ»¡ï¼‰
- ç‰Œåº“åº•éƒ¨: 5å¼ 

ç»“æœï¼š
- æ‰‹ç‰Œ: 10å¼ ï¼ˆåŸç‰Œåº“åº•éƒ¨çš„ç‰Œè¢«çƒ§æ‰ï¼‰
- ç‰Œåº“åº•éƒ¨: åŸæ‰‹ç‰Œçš„10å¼ 
```

---

## æ€»ç»“

### âœ… å®Œæˆåº¦è¯„ä¼°

| é¡¹ç›®       | çŠ¶æ€    | è¯´æ˜                             |
| ---------- | ------- | -------------------------------- |
| åŸºç¡€åŠŸèƒ½   | âœ… 100% | æ­£ç¡®å®ç°äº¤æ¢é€»è¾‘                 |
| æ ‡ç­¾å®Œæ•´æ€§ | âœ… 100% | æ‰€æœ‰å¿…è¦æ ‡ç­¾å·²æ·»åŠ                |
| è¾¹ç•Œå¤„ç†   | âœ… 100% | å¤„ç†æ‰€æœ‰è¾¹ç•Œæƒ…å†µ                 |
| ä»£ç è´¨é‡   | âœ… ä¼˜ç§€ | æ¸…æ™°çš„æ³¨é‡Šï¼Œè§„èŒƒçš„å®ç°           |
| æ€§èƒ½       | âœ… ä¼˜ç§€ | ä½¿ç”¨ generatorï¼Œé¿å…ä¸å¿…è¦çš„æ“ä½œ |

### ğŸ¯ å…³é”®æ”¹è¿›

1. **ä¿®å¤äº†é€»è¾‘é”™è¯¯**ï¼šä»"ç§»åŠ¨+æŠ½ç‰Œ"æ”¹ä¸ºçœŸæ­£çš„"äº¤æ¢"
2. **æ·»åŠ äº†åŸºç¡€æ ‡ç­¾**ï¼šå¡ç‰Œå¯ä»¥æ­£å¸¸åˆ›å»ºå’Œæ˜¾ç¤º
3. **æ”¹è¿›äº†å®ç°æ–¹å¼**ï¼šä» lambda æ”¹ä¸º generator å‡½æ•°
4. **å®Œå–„äº†è¾¹ç•Œå¤„ç†**ï¼šå¤„ç†æ‰€æœ‰å¯èƒ½çš„è¾¹ç•Œæƒ…å†µ
5. **æå‡äº†ä»£ç è´¨é‡**ï¼šæ¸…æ™°çš„æ³¨é‡Šå’Œæ–‡æ¡£

**æ€»ä½“è¯„ä»·**ï¼šâœ… **å®Œæ•´å®ç°ï¼Œé€»è¾‘æ­£ç¡®ï¼Œè´¨é‡ä¼˜ç§€**
